<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja">
	<head>
		<meta content="text/html; charset=Shift_JIS" http-equiv="content-type">
		<title>スクリプト構文（シナリオ）</title>
	</head>
	<body>
		<hr>
		<small><span style="font-weight: bold;">NovelEngine</span></small>
		<br>
		<big><big><big>スクリプト構文（シナリオ）</big></big></big>
		<hr>
		シナリオ進行に関するスクリプト・コマンドの一覧です。
		<br>
		<br>
		※仕様について
		<br>
		<b>待機：(○or×)</b>
		<br>
		×の場合はこのコマンドが処理リストに追加される際、その次のコマンド以降も同時に処理されます。
		○の場合はその場所で処理リストへの追加をやめ、それまでに追加されたコマンドを同時に処理します。 		<pre><code>
コマンド  待機
       1    ×
       2    ×
       3    ×
       4    ×
       5    ○
       6    ×
       7    ×
       8    ○	
       9    ○
</code></pre>
		上の場合は、最初にコマンド1,2,3,4,5、次にコマンド6,7,8、最後にコマンド9が実行されます。
		<br>
		<dl>
			<dt>
				<b>導入されたバージョン:</b>
			</dt>
			<dd>
				NovelEngine β1.0
			</dd>
		</dl>
		<hr>
		<table style="width: 100%;" summary="" border="1" cellpadding="3" cellspacing="0">
			<tbody>
				<tr class="TableHeadingColor" bgcolor="#ccccff">
					<th style="width: 100%;" colspan="2" align="left"><font size="+2"> <b>コマンドの概要</b></font></th>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;設定 </font></td>
					<td><code><b><a href="#chapter">チャプター</a></b>(文字列 チャプターID)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャプターIDを設定します。 </td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;設定 </font></td>
					<td><code><b><a href="#scene">シーン</a></b>(文字列 シーンID)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;シーンIDを追加します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;チャプター操作 </font></td>
					<td><code><b><a href="#load">ロード</a></b>(文字列 チャプターID)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャプターをロードします。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;チャプター操作 </font></td>
					<td><code><b><a href="#move">移動</a></b>(文字列 チャプターID)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;指定されたIDのチャプターに移動します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#changeBgImage">背景変更</a></b>(文字列 背景ID, 真偽値 スキップ可能, <a href="フェーダー.html">フェーダー</a> フェード)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;背景を指定されたIDに変更します。 </td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作</font></td>
					<td><code><b><a href="#changeCharacter">キャラ変更</a></b>(真偽値 待機, <a href="キャラチェンジャー.html">キャラチェンジャー</a>[] チェンジャー...)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;キャラクターの立ち絵を変更します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#showCG">CG表示</a></b>(文字列 CGID)</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGIDで指定されたCGを表示したものとして保存します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#words">セリフ</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;画面下部の文章を操作します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#makeButton">ボタン作成</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ボタンを生成します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#if">もし</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;フラグを判断し、結果が正なら[シーンID]へ移動します。S</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;ストーリー操作 </font></td>
					<td><code><b><a href="#action">アクション</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;キャラを動かすなどのアクションを行います。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;音操作 </font></td>
					<td><code><b><a href="#playBGM">BGM再生</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BGMを再生します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;音操作 </font></td>
					<td><code><b><a href="#stopBGM">BGM停止</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在再生中のBGMを停止します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;音操作 </font></td>
					<td><code><b><a href="#playSE">SE再生</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SEを再生します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;画面操作 </font></td>
					<td><code><b><a href="#showBox">ボックス表示</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;メッセージボックスを表示します。</td>
				</tr>
				<tr class="TableRowColor" bgcolor="white">
					<td align="right" valign="top"><font size="-1"> &nbsp;画面操作 </font></td>
					<td><code><b><a href="#hideBox">ボックス閉じる</a></b>()</code>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;メッセージボックスを隠します。</td>
				</tr>
			</tbody>
		</table>
		<br>
		<table border="1" width="100%" cellpadding="3" cellspacing="0" summary="">
			<tr bgcolor="#ccccff" class="tableheadingcolor">
				<th align="left" colspan="1"><font size="+2"> <b>コマンドの詳細</b></font></th>
			</tr>
		</table>
		<a name="chapter"></a><h3>チャプター</h3>
		<pre><b>チャプター</b>(文字列 チャプターID)</pre>
		<dl>
			<dd>
				チャプターIDを設定します。チャプターIDはチャプターの移動の際などで使用します。
				一つのファイルが１チャプターとなります。複数の指定文があった場合は最後に出現した方のIDを適用します。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								チャプターID - このチャプターに割り当てるチャプターID
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：×
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="scene"></a><h3>シーン</h3>
		<pre><b>シーン</b>(文字列 シーンID)</pre>
		<dl>
			<dd>
				シーンIDを設定します。シーンIDはシーンの移動の際などで使用します。<a href="#move">移動</a>
				コマンドによって同チャプター内のシーンに移動できます。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								シーンID - このチャプター内に追加するシーンID
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：×
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="load"></a><h3>ロード</h3>
		<pre><b>ロード</b>(文字列 チャプターID)</pre>
		<dl>
			<dd>
				指定したチャプターIDのデータを読み込みます。ロードを行ったチャプターに対して<a href="#move">移動</a>ができます。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								チャプターID - ロードするチャプターID
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：×
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="move"></a><h3>移動</h3>
		<pre><b>移動</b>(文字列 チャプターID)</pre>
		<dl>
			<dd>
				指定されたチャプターIDのチャプターに移動します。移動先のチャプターの先頭からストーリーが始まります。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								チャプターID - 移動先のチャプターID
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：○
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="changeBgImage"></a><h3>背景変更</h3>
		<pre><b>背景変更</b>(文字列 背景ID, <a href="範囲.html">範囲</a> 表示範囲, 真偽値 スキップ可能, <a href="フェーダー.html">フェーダー</a> フェード, 真偽値 待機)</pre>
		<dl>
			<dd>
				指定されたチャプターIDのチャプターに移動します。移動先のチャプターの先頭からストーリーが始まります。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								背景ID - 変更する背景のID
								<br>
								表示範囲 - 画像を切り抜く場合に使用。画面全体に表示させる場合は「null」
								<br>
								スキップ可能 - このフェードをスキップ可能にするか
								<br>
								フェード - 壁紙変更の際に使用するフェーダー
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：パラメータに依存
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="changeCharacter"></a><h3>キャラ変更</h3>
		<pre><b>キャラ変更</b>(真偽値 待機, <a href="キャラチェンジャー.html">キャラチェンジャー</a>[] チェンジャー...)</pre>
		<dl>
			<dd>
				キャラクターの表示・非表示及び表情などを変更します。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								待機 - キャラ変更が終了するまで待機するか
								<br>
								チェンジャー - 変更に関するキャラチェンジャー
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：パラメータに依存
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="showCG"></a><h3>CG表示</h3>
		<pre><b>CG表示</b>(文字列 CGID)</pre>
		<dl>
			<dd>
				CGIDで指定されたCGを表示したものとして保存します。
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								CGID - 表示したCGID
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：×
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
		<a name="words"></a><h3>セリフ</h3>
		<pre><b>セリフ</b>(文字列 キャラクターID, 文字列 音声ID [改行] 文字列 本文 [改行])</pre>
		<dl>
			<dd>
				画面下部の文章を操作します。本文で指定された文字がすべて入るように改行されます。
				<br>
				キャラクターまたは音声を使用しない場合は「0」と入力してください。
				<br>
				音声IDと本文、本文と文末の「)」の間には改行を入れてください。
				<br>
				使用例：
				<br>
				<pre>
セリフ(キャラ１, セリフ１
セリフ
)</pre>
				<p>
					<dd>
						<dl>
							<dt>
								<b>パラメータ:</b>
							</dt>
							<dd>
								キャラクターID - 名前欄に表示するキャラクター
								<br>
								音声ID - 再生する音声
								<br>
								本文 - 表示させる文章
							</dd>
						</dl>
					</dd>
					<dd>
						<dl>
							<dt>
								<b>仕様:</b>
							</dt>
							<dd>
								待機：○
							</dd>
						</dl>
					</dd>
			</dd>
		</dl>
		<hr>
	</body>
</html>